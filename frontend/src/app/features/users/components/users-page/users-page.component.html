<ng-container *ngIf="dataFromStore$ | async as dataFromStore">
    <div class="container d-flex flex-column align-items-center">
        <h3 class="text-center">Pretraga korisnika</h3>
        <app-users-search-filters class="mb-3" (onFilterChange)="onFilterChange($event)"></app-users-search-filters>
        <mat-spinner class="my-2" diameter="50" *ngIf="dataFromStore.isLoading"></mat-spinner>

        <ng-container *ngIf="!dataFromStore.isLoading">
            <app-user-preview  *ngFor="let user of dataFromStore.filteredUsers" [user]="user"></app-user-preview>
        </ng-container>

        <mat-paginator 
            class="mt-3"
            [length]="dataFromStore.paginationMetadata.totalItems" 
            [pageSize]="dataFromStore.paginationMetadata.itemsPerPage" 
            [pageSizeOptions]="[5, 10, 25, 100]" 
            [showFirstLastButtons]="true"
            (page)="pageEvent = $event; onPaginateChange($event)">
        </mat-paginator>
        <br>
    </div>
</ng-container>