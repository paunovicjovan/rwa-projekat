<mat-toolbar>
    <span routerLink="/" class="logo">RWA projekat</span>
    <span class="example-spacer"></span>

    <ng-container *ngIf="currentLoggedInUser$ | async as currentUser; else notLoggedIn">
        <button mat-mini-fab class="btn" color="primary" routerLink="/users">
            <mat-icon fontIcon="people"></mat-icon>
        </button>

        <button mat-mini-fab class="btn" color="primary" (click)="logout()">
            <mat-icon fontIcon="logout"></mat-icon>
        </button>

        <span>{{currentUser.firstName}} {{currentUser.lastName}}</span>
        
        <img *ngIf="currentUser.profileImage; else defaultProfileImage" [src]="apiUrl+'/users/profile-image/'+currentUser.profileImage" alt="">
        <ng-template #defaultProfileImage>
            <img src="assets/default-profile-image.jpg" alt="">
        </ng-template>
    </ng-container>

    <ng-template #notLoggedIn>
        <button mat-stroked-button class="btn" routerLink="/login">
            Prijava
        </button>
        <button mat-flat-button color="primary" routerLink="/register">
            Registracija
        </button>
    </ng-template>
    

</mat-toolbar>